# Modern password manager

## Building React client

 1. Do everything in `reactClient/my-app/`
 2. Use Node 12.x
 3. run `npm install`
 4. run `npm link OpenAPIReactClient/`
 5. run `npm run build`

## Deployment

 1. Copy the whole repository to your server
 2. Go to the `Symfony-API/` directory
 2. Run `composer install --no-dev --no-suggest`.  
    and for apache: `composer require symfony/apache-pack`
 3. Copy the `.env` file to `.env.local` and fill in your database information. Also regenerate `APP_SECRET`.
 4. Prepare the database by running the SQL generated by `php bin/console doctrine:schema:update --dump-sql` in it.
 5. Copy the results of the react-build to `Symfony-API/public/`. Also copy the file `index.html` to `Symfony-API/templates/`.
 6. Configure your webserver with `Symfony-API/public/` as root-directory.
 7. Make sure to use HTTPS, otherwise nothing will work.  
    (This is a restriction by the browsers, the JavaScript APIs in use are only available in a secure context: `https://*` or `localhost`)
 8. Visit your webpage

### Cleaning up

The following files/directories are not needed at runtime:

 - OpenAPIDescription.yaml
 - OpenAPIReactClient/
 - README.md
 - dockerBuild/
 - reactClient/
 - Symfony-API/bin/
